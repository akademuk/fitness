document.addEventListener("DOMContentLoaded",()=>{const e="undefined"!=typeof gsap,t="undefined"!=typeof Swiper,o="undefined"!=typeof Lenis,r="undefined"!=typeof ScrollTrigger;let a;e&&r&&gsap.registerPlugin(ScrollTrigger),o&&(a=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),direction:"vertical",gestureDirection:"vertical",smooth:!0,mouseMultiplier:1,smoothTouch:!1,touchMultiplier:2}),r&&a.on("scroll",ScrollTrigger.update),e&&(gsap.ticker.add(e=>{a.raf(1e3*e)}),gsap.ticker.lagSmoothing(0)));const s=t=>{if(!t)return;const o=t.querySelector("img"),r=t.querySelector(".hero-title"),a=t.querySelector(".hero-subtitle");e&&(r&&(r.style.animation="none",r.style.opacity="0"),a&&(a.style.animation="none",a.style.opacity="0"),gsap.killTweensOf([o,r,a]),o&&gsap.fromTo(o,{scale:1.2},{scale:1,duration:6,ease:"power1.out"}),(r||a)&&gsap.fromTo([r,a].filter(e=>e),{y:50,opacity:0},{y:0,opacity:1,duration:1,stagger:.2,ease:"power3.out",delay:.5}))};if(t){new Swiper(".hero-slider",{effect:"fade",fadeEffect:{crossFade:!0},speed:1500,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},observer:!0,observeParents:!0,on:{init:function(){s(this.slides[this.activeIndex])},slideChangeTransitionStart:function(){s(this.slides[this.activeIndex])}}}),new Swiper(".testimonials-slider",{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{768:{slidesPerView:2},1024:{slidesPerView:3}}})}e&&r&&setTimeout(()=>{requestAnimationFrame(()=>{let e=gsap.matchMedia();document.fonts.ready.then(()=>{try{if("undefined"!=typeof SplitType){new SplitType("[data-split-text]",{types:"words, chars"});document.querySelectorAll("[data-split-text]").forEach(e=>e.classList.add("is-split")),document.querySelectorAll("[data-split-text]").forEach(e=>{const t=e.querySelectorAll(".char");t.length>0&&gsap.from(t,{scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"},y:100,opacity:0,rotation:5,duration:.8,stagger:.02,ease:"back.out(1.7)"})}),ScrollTrigger.refresh()}}catch(e){console.warn("SplitType failed to initialize",e)}});document.querySelectorAll("[data-reveal]").forEach(e=>{gsap.fromTo(e,{y:50,opacity:0},{y:0,opacity:1,duration:1,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none reverse"}})});document.querySelectorAll(".advantages__list").forEach(e=>{const t=e.querySelectorAll(".advantage-item");gsap.fromTo(t,{x:-50,opacity:0},{x:0,opacity:1,duration:.8,stagger:.2,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 80%"}})});document.querySelectorAll("[data-parallax-image] img").forEach(e=>{gsap.to(e,{yPercent:-20,ease:"none",scrollTrigger:{trigger:e.parentElement,start:"top bottom",end:"bottom top",scrub:!0}})}),e.add("(min-width: 1024px)",()=>{gsap.to(".services__grid .service-card:nth-child(2)",{y:-50,ease:"none",scrollTrigger:{trigger:".services__grid",start:"top bottom",end:"bottom top",scrub:1}})})})},100);const n=document.querySelector(".hamburger"),i=document.querySelector(".nav"),c=document.querySelectorAll(".nav__link"),l=document.querySelector(".nav__cta");n&&i&&(n.addEventListener("click",()=>{const t="true"===n.getAttribute("aria-expanded");n.setAttribute("aria-expanded",!t),t?(i.classList.remove("active"),a&&a.start()):(i.classList.add("active"),a&&a.stop(),e&&(gsap.fromTo(".nav__link",{y:50,opacity:0},{y:0,opacity:1,duration:.8,stagger:.1,ease:"power3.out",delay:.2}),gsap.fromTo([".nav__contact",".nav__social",".nav__cta"],{y:30,opacity:0},{y:0,opacity:1,duration:.8,stagger:.1,ease:"power3.out",delay:.6})))}),c.forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<1024&&(n.setAttribute("aria-expanded","false"),i.classList.remove("active"),a&&a.start())})}),l&&l.addEventListener("click",()=>{window.innerWidth<1024&&(n.setAttribute("aria-expanded","false"),i.classList.remove("active"),a&&a.start())}));const d=document.querySelector(".header");let u=!1;a?a.on("scroll",e=>{const t=e.scroll>50;t!==u&&(u=t,u?d.classList.add("header--scrolled"):d.classList.remove("header--scrolled"))}):window.addEventListener("scroll",()=>{const e=window.scrollY>50;e!==u&&(u=e,u?d.classList.add("header--scrolled"):d.classList.remove("header--scrolled"))}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const o=document.querySelector(t);o&&(a?a.scrollTo(o,{duration:2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e))}):o.scrollIntoView({behavior:"smooth"}),window.innerWidth<1024&&n&&i&&(n.setAttribute("aria-expanded","false"),i.classList.remove("active"),a&&a.start()))})});const p=e=>new Promise((t,o)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const r=document.createElement("script");r.src=e,r.onload=t,r.onerror=o,document.body.appendChild(r)}),m=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(p("assets/vendor/js/fancybox.umd.js").then(()=>{"undefined"!=typeof Fancybox&&Fancybox.bind("[data-fancybox]",{animated:!0,showClass:"f-fadeIn",hideClass:"f-fadeOut",dragToClose:!1,Hash:!1,Images:{zoom:!1},Toolbar:{display:{left:[],middle:[],right:["close"]}},Thumbs:{autoStart:!1},on:{close:()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()}}})}).catch(e=>console.error("Failed to load Fancybox",e)),m.disconnect())})},{rootMargin:"500px"}),g=document.querySelector("#gallery"),y=document.querySelector(".testimonials");g&&m.observe(g),y&&m.observe(y);const f=document.getElementById("booking");if(f){const e=new IntersectionObserver(t=>{if(t[0].isIntersecting){const t=document.getElementById("phone");t&&p("assets/vendor/js/imask.js").then(()=>{"undefined"!=typeof IMask&&IMask(t,{mask:"+{380} (00) 000-00-00",lazy:!1,placeholderChar:"_"})}).catch(e=>console.error("Failed to load IMask",e)),e.disconnect()}},{rootMargin:"200px"});e.observe(f)}const h=document.querySelector(".custom-select"),v=document.querySelector(".form__select-native");if(h&&v){const e=h.querySelector(".custom-select__trigger"),t=h.querySelectorAll(".custom-select__option"),o=h.querySelector(".custom-select__text");e.addEventListener("click",()=>{h.classList.toggle("open")}),t.forEach(e=>{e.addEventListener("click",()=>{const r=e.getAttribute("data-value"),a=e.textContent;o.textContent=a,h.classList.remove("open"),h.classList.add("has-value"),v.value=r,t.forEach(e=>e.classList.remove("selected")),e.classList.add("selected")})}),document.addEventListener("click",e=>{h.contains(e.target)||h.classList.remove("open")})}const b=document.querySelector(".fab-btn"),w=document.querySelector(".hero");if(b&&w){new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?b.classList.remove("visible"):b.classList.add("visible")})},{threshold:0}).observe(w)}if(e&&r){document.querySelectorAll(".gallery-item").forEach((e,t)=>{gsap.fromTo(e,{opacity:0,y:50,scale:.95},{opacity:1,y:0,scale:1,duration:.8,delay:.1*t,ease:"power2.out",scrollTrigger:{trigger:".gallery-mosaic",start:"top 80%"}})})}const S=document.getElementById("booking-form");let E;S&&S.addEventListener("submit",e=>{e.preventDefault();const t=S.querySelector('button[type="submit"]'),o=t.textContent;t.textContent="Sending...",t.disabled=!0,setTimeout(()=>{t.textContent=o,t.disabled=!1,"undefined"!=typeof Fancybox?Fancybox.show([{src:"#thank-you-popup",type:"inline",closeButton:!1}]):alert("Thank you! Your request has been sent."),S.reset();const e=document.querySelector(".custom-select"),r=document.querySelector(".custom-select__text"),a=document.querySelectorAll(".custom-select__option");e&&r&&(r.textContent="",e.classList.remove("has-value"),a.forEach(e=>e.classList.remove("selected")))},1500)}),window.addEventListener("resize",()=>{document.body.classList.add("resize-animation-stopper"),clearTimeout(E),E=setTimeout(()=>{document.body.classList.remove("resize-animation-stopper")},400)});e&&window.matchMedia("(min-width: 1024px)").matches&&document.querySelectorAll(".btn").forEach(e=>{e.addEventListener("mousemove",t=>{const o=e.getBoundingClientRect(),r=t.clientX-o.left-o.width/2,a=t.clientY-o.top-o.height/2;gsap.to(e,{duration:.3,x:.2*r,y:.2*a,ease:"power2.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(e,{duration:.5,x:0,y:0,ease:"elastic.out(1, 0.3)"})})});if(setTimeout(()=>{document.querySelectorAll(".status-rail__value").forEach(t=>{const o=t.textContent,a=o.match(/[\d\.]+/);if(!a)return;const s=parseFloat(a[0]);if(o.includes(":"))return;const n=o.replace(a[0],"").replace("+",""),i=o.includes("+")?"+":"";t.textContent=i+"0"+n,r&&e&&ScrollTrigger.create({trigger:t,start:"top 85%",once:!0,onEnter:()=>{const e={val:0};gsap.to(e,{val:s,duration:2,ease:"power2.out",onUpdate:()=>{const o=s%1!=0?e.val.toFixed(1):Math.round(e.val);t.textContent=i+o+n}})}})})},500),e){document.querySelectorAll(".form__input, .form__select").forEach(e=>{e.addEventListener("focus",()=>{const t=e.closest(".form__group");t&&gsap.fromTo(t,{x:-2},{x:0,duration:.3,ease:"elastic.out(1, 0.5)"})})})}e&&window.matchMedia("(min-width: 1024px)").matches&&document.querySelectorAll(".service-card, .coach-card, .pricing-card").forEach(e=>{e.addEventListener("mousemove",t=>{const o=e.getBoundingClientRect(),r=t.clientX-o.left,a=t.clientY-o.top,s=o.width/2,n=o.height/2,i=(a-n)/n*-5,c=(r-s)/s*5;gsap.to(e,{duration:.5,rotateX:i,rotateY:c,transformPerspective:1e3,ease:"power2.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(e,{duration:.5,rotateX:0,rotateY:0,ease:"power2.out"})})})});